# 演唱会视频分享平台 - 完整启动指南

## 📋 目录
1. [环境准备](#环境准备)
2. [数据库配置](#数据库配置)
3. [后端启动](#后端启动)
4. [前端启动](#前端启动)
5. [功能测试](#功能测试)
6. [常见问题](#常见问题)

## 🔧 环境准备

### 必需软件
- **JDK 17+** - Java开发环境
- **MySQL 8.0+** - 数据库
- **Node.js 16+** - 前端运行环境
- **Maven 3.6+** - Java项目构建工具

### 验证安装
```bash
# 验证Java版本
java -version

# 验证Maven版本
mvn -version

# 验证Node.js版本
node -v

# 验证npm版本
npm -v

# 验证MySQL版本
mysql --version
```

## 💾 数据库配置

### 1. 创建数据库
```bash
# 登录MySQL
mysql -u root -p

# 执行以下SQL命令
CREATE DATABASE IF NOT EXISTS cvs_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE cvs_db;

# 导入数据库脚本
source D:/BaiduSyncdisk/university/毕业/毕业设计/CVS-system/CVS-port/init.sql;

# 验证数据导入
SHOW TABLES;
SELECT COUNT(*) FROM user;
```

### 2. 修改数据库配置
编辑文件：`CVS-port/src/main/resources/application.properties`

```properties
spring.datasource.username=你的MySQL用户名
spring.datasource.password=你的MySQL密码
```

## 🚀 后端启动

### 方式一：使用IDE（推荐）
1. 使用IntelliJ IDEA或Eclipse打开`CVS-port`项目
2. 等待Maven自动下载依赖
3. 找到`CvsPortApplication.java`文件
4. 右键点击 -> Run 'CvsPortApplication'

### 方式二：使用命令行
```bash
# 进入后端项目目录
cd CVS-port

# 清理并编译项目
mvn clean install

# 启动项目
mvn spring-boot:run
```

### 验证后端启动成功
- 控制台显示：`Started CvsPortApplication in X seconds`
- 访问：http://localhost:8080/api/video/list
- 应该返回JSON格式的视频列表数据

## 🎨 前端启动

### 1. 安装依赖
```bash
# 进入前端项目目录
cd CVS-view

# 方式一：使用安装脚本（Windows推荐）
install-dependencies.bat

# 方式二：手动安装
npm install
```

### 2. 启动开发服务器
```bash
npm run dev
```

### 验证前端启动成功
- 控制台显示：`Local: http://localhost:5173/`
- 浏览器访问：http://localhost:5173
- 应该看到演唱会视频分享平台首页

## ✅ 功能测试

### 测试账号
| 角色 | 用户名 | 密码 | 权限 |
|------|--------|------|------|
| 管理员 | admin | 123456 | 所有权限 + 视频审核 |
| 普通用户 | user1 | 123456 | 基本功能 |
| 普通用户 | user2 | 123456 | 基本功能 |

### 功能清单
- ✅ 用户注册和登录
- ✅ 浏览视频列表
- ✅ 搜索和筛选视频
- ✅ 查看视频详情
- ✅ 上传视频（需登录）
- ✅ 评论视频（需登录）
- ✅ 点赞视频（需登录）
- ✅ 收藏视频（需登录）
- ✅ 个人中心管理
- ✅ 管理员审核视频（需管理员权限）

## 🐛 常见问题

### 1. 后端启动失败

**问题：数据库连接失败**
```
解决方案：
1. 检查MySQL服务是否启动
2. 检查application.properties中的数据库配置
3. 确认数据库cvs_db已创建
4. 检查用户名密码是否正确
```

**问题：端口8080被占用**
```
解决方案：
修改application.properties，添加：
server.port=8081
```

### 2. 前端启动失败

**问题：依赖安装失败**
```bash
# 清理npm缓存
npm cache clean --force

# 使用国内镜像
npm config set registry https://registry.npmmirror.com

# 重新安装
npm install
```

**问题：端口5173被占用**
```
解决方案：
修改vite.config.js中的port配置
```

### 3. 跨域问题
```
前端已配置代理，后端已配置CORS
如仍有问题，检查：
1. 后端WebConfig.java的CORS配置
2. 前端vite.config.js的proxy配置
```

## 📝 开发建议

1. **开发顺序**：先启动后端，再启动前端
2. **调试工具**：使用浏览器开发者工具查看网络请求
3. **日志查看**：后端日志在控制台，前端日志在浏览器Console
4. **数据库工具**：推荐使用Navicat或DBeaver管理数据库

## 🎯 下一步

项目启动成功后，你可以：
1. 使用测试账号登录体验各项功能
2. 注册新账号测试注册流程
3. 上传视频测试审核流程
4. 查看代码了解实现细节
5. 根据需求进行功能扩展

## 📞 技术支持

如遇到问题，请检查：
1. 本文档的常见问题部分
2. 项目README.md文件
3. 代码注释和文档

